{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport iziToast from \"izitoast\";\n\nconst picker = document.querySelector(\"#datetime-picker\");\nconst startButton = document.querySelector(\"[data-start]\");\nconst timerDays = document.querySelector(\"[data-days]\");\nconst timerHours = document.querySelector(\"[data-hours]\");\nconst timerMinutes = document.querySelector(\"[data-minutes]\");\nconst timerSeconds = document.querySelector(\"[data-seconds]\");\n\nlet selectedDate;\n\nconst msgError = msg => {\n  iziToast.error(\n    {\n      message: msg,\n      position: \"topRight\"\n    }\n  );\n};\n\nconst convertMs = ms => {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (selectedDates[0] > Date.now())\n    {\n      selectedDate = selectedDates[0];\n      startButton.removeAttribute(\"disabled\");\n    }\n    else\n    {\n      msgError(\"Please choose a date in the future\");\n      startButton.setAttribute(\"disabled\", \"\");\n    }\n  }\n};\n\nconst addLeadingZero = value => {\n  return value.toString().padStart(2, '0');\n}\n\nconst handleStartButtonClick = event => {\n  if (selectedDate !== undefined && selectedDate > Date.now()) {\n    startButton.setAttribute(\"disabled\", \"\");\n    picker.setAttribute(\"disabled\", \"\");\n    const currentInterval = setInterval(() => {\n      const diff = selectedDate - Date.now();\n      if (diff >= 0) {\n        const { days, hours, minutes, seconds } = convertMs(diff);\n        timerDays.textContent = addLeadingZero(days);\n        timerHours.textContent = addLeadingZero(hours);\n        timerMinutes.textContent = addLeadingZero(minutes);\n        timerSeconds.textContent = addLeadingZero(seconds);\n      }\n      else {\n        picker.removeAttribute(\"disabled\");\n        clearInterval(currentInterval);\n      }\n    });\n  }\n};\n\nstartButton.addEventListener(\"click\", handleStartButtonClick);\n\nflatpickr(picker, options);"],"names":["picker","startButton","timerDays","timerHours","timerMinutes","timerSeconds","selectedDate","msgError","msg","iziToast","convertMs","ms","days","hours","minutes","seconds","options","selectedDates","addLeadingZero","value","handleStartButtonClick","event","currentInterval","diff","flatpickr"],"mappings":"+IAGA,MAAMA,EAAS,SAAS,cAAc,kBAAkB,EAClDC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAe,SAAS,cAAc,gBAAgB,EAE5D,IAAIC,EAEJ,MAAMC,EAAWC,GAAO,CACtBC,EAAS,MACP,CACE,QAASD,EACT,SAAU,UACX,CACL,CACA,EAEME,EAAYC,GAAM,CAQtB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,EAEMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACjBA,EAAc,CAAC,EAAI,KAAK,IAAK,GAE/BX,EAAeW,EAAc,CAAC,EAC9BhB,EAAY,gBAAgB,UAAU,IAItCM,EAAS,oCAAoC,EAC7CN,EAAY,aAAa,WAAY,EAAE,EAE1C,CACH,EAEMiB,EAAiBC,GACdA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,EAGnCC,EAAyBC,GAAS,CACtC,GAAIf,IAAiB,QAAaA,EAAe,KAAK,IAAG,EAAI,CAC3DL,EAAY,aAAa,WAAY,EAAE,EACvCD,EAAO,aAAa,WAAY,EAAE,EAClC,MAAMsB,EAAkB,YAAY,IAAM,CACxC,MAAMC,EAAOjB,EAAe,KAAK,IAAG,EACpC,GAAIiB,GAAQ,EAAG,CACb,KAAM,CAAE,KAAAX,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYL,EAAUa,CAAI,EACxDrB,EAAU,YAAcgB,EAAeN,CAAI,EAC3CT,EAAW,YAAce,EAAeL,CAAK,EAC7CT,EAAa,YAAcc,EAAeJ,CAAO,EACjDT,EAAa,YAAca,EAAeH,CAAO,CAClD,MAECf,EAAO,gBAAgB,UAAU,EACjC,cAAcsB,CAAe,CAErC,CAAK,CACF,CACH,EAEArB,EAAY,iBAAiB,QAASmB,CAAsB,EAE5DI,EAAUxB,EAAQgB,CAAO"}